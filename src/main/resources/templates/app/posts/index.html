<!DOCTYPE html>
<body lang="ko" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="layouts/app" layout:decorate="~{layouts/app}"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<div layout:fragment="content" class="main-content">
    <div class="container py-4">
        <div class="row">
            <div class="col">
                <h2>자유 게시판</h2>
            </div>
        </div>
        <div class="table-responsive">
            <table class="table table-bordered">
                <caption></caption>
                <thead class="align-middle text-center grey-bg">
                <tr>
<!--                    <th>번호</th>-->
                    <th class="min-with-300">제목</th>
                    <th>작성자</th>
                    <th>등록일자</th>
                </tr>
                </thead>
                <tbody class="align-middle text-center">
                <tr class="clickable-row" th:each="post, iter: ${posts}" role="button" th:onclick="'location.href=\''+ @{'/posts/'+ ${post.id}} + '\''">
<!--                    <td th:text="${pagination.getPage().getTotalElements() - -->
<!--                        ((pagination.getCurrent() - 1) * pagination.getPerPage() + iter.index)}"></td>-->
                    <td class="text-start" th:text="${post.getTitle()}"></td>
                    <td th:text="${post.getMember().getUsername()}"></td>
                    <td th:text="${#dates.format(post.createdAt, 'yyyy-MM-dd HH:mm:ss')}"></td>
                </tr>
<!--                <tr th:if="${#lists.size(posts.getContent()) < 1}">-->
<!--                    <td colspan="7">데이터가 존재하지 않습니다.</td>-->
<!--                </tr>-->
                </tbody>
            </table>
            <div class="float-end">
                <a class="btn btn-primary" href="#" th:href="@{/posts/new}">등록</a>
            </div>
<!--            <div th:replace="fragments/pagination :: pagination"></div>-->
    </div>
</div>
</body>